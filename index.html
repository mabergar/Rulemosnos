<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Rulemosnos - Ruleta de temas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 40px;
      background: #f9f9f9;
    }
    h1 {
      font-size: 2.2em;
    }
    canvas {
      margin-top: 20px;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      transition: transform 4s ease-out;
    }
    .arrow {
      position: absolute;
      top: 140px;
      left: 50%;
      margin-left: -10px;
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-bottom: 20px solid #333;
    }
    button {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 16px;
      background: #333;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #result {
      margin-top: 40px;
      font-size: 1.3em;
      color: #222;
    }
  </style>
</head>
<body>
  <h1>ğŸ¡ Rulemosnos</h1>
  <p>Gira la ruleta para descubrir un tema y una pregunta</p>
  <div class="arrow"></div>
  <canvas id="wheel" width="500" height="500"></canvas>
  <br>
  <button onclick="spin()">Â¡GÃ­rame!</button>
  <div id="result"></div>

  <script>
    const topics = [
      { name: "ğŸ¾ Tenis", questions: [
        "Federer, Nadal o Djokovic: Â¿por quÃ©?",
        "Â¿CuÃ¡l es el mejor partido que has visto?",
        "Â¿QuÃ© has aprendido del tenis que aplicas en tu vida?",
        "Â¿A quÃ© torneo irÃ­amos si pudiÃ©ramos?",
        "Â¿QuÃ© jugador se parece mÃ¡s a ti o a mÃ­ cuando jugamos?"
      ]},
      { name: "ğŸ›ï¸ PolÃ­tica EspaÃ±ola", questions: [
        "Â¿Lista abierta o cerrada? Â¿QuÃ© cambiarÃ­as?",
        "Â¿La prensa es realmente independiente?",
        "Â¿CuÃ¡l serÃ¡ el siguiente gran derecho en debate?",
        "Â¿QuÃ© caso polÃ­tico te ha decepcionado mÃ¡s?",
        "Â¿QuÃ© cambiarÃ­as en Sant Cugat si fueses alcalde?"
      ]},
      { name: "ğŸ’¼ RRHH y trabajo", questions: [
        "Â¿QuÃ© jefe o jefa te marcÃ³ para bien o para mal?",
        "Â¿QuÃ© valores no deberÃ­an faltar nunca en una empresa?",
        "Â¿CuÃ¡l fue tu peor metedura de pata profesional?",
        "Â¿CÃ³mo imaginas trabajar dentro de 10 aÃ±os?",
        "Â¿Recuerdas una entrevista absurda o surrealista?"
      ]},
      { name: "ğŸ’¡ Hablemos de tus ideas", questions: [
        "Â¿QuÃ© idea emprendedora harÃ­as si no pudieras arruinarte?",
        "Â¿QuÃ© tecnologÃ­a te gustarÃ­a inventar o mejorar?",
        "Â¿QuÃ© problema social te gustarÃ­a ayudar a resolver?",
        "Â¿QuÃ© servicio ves mal resuelto y tÃº harÃ­as mejor?",
        "Â¿QuÃ© cambiarÃ­as si fueras el jefe absoluto de tu empresa?"
      ]},
      { name: "ğŸŒ Viajes", questions: [
        "Â¿CuÃ¡l fue tu momento favorito del viaje aâ€¦?",
        "Â¿QuÃ© lugar del mundo tenemos pendiente sÃ­ o sÃ­?",
        "Â¿Y si nos teletransportÃ¡ramos ahora a un sitio imposible?",
        "Â¿CuÃ¡l fue el viaje que mÃ¡s te cambiÃ³ por dentro?",
        "Â¿A dÃ³nde irÃ­amos si solo tuviÃ©ramos 50â€¯â‚¬ y 48â€¯h?"
      ]}
    ];

    const colors = ["#f44336", "#3f51b5", "#009688", "#ff9800", "#9c27b0"];
    const canvas = document.getElementById("wheel");
    const ctx = canvas.getContext("2d");
    const slices = topics.length;
    const sliceAngle = 2 * Math.PI / slices;

    function drawWheel() {
      for (let i = 0; i < slices; i++) {
        ctx.beginPath();
        ctx.moveTo(250, 250);
        ctx.arc(250, 250, 250, i * sliceAngle, (i + 1) * sliceAngle);
        ctx.fillStyle = colors[i];
        ctx.fill();
        ctx.save();
        ctx.translate(250, 250);
        ctx.rotate((i + 0.5) * sliceAngle);
        ctx.textAlign = "right";
        ctx.fillStyle = "#fff";
        ctx.font = "bold 16px sans-serif";
        ctx.fillText(topics[i].name, 230, 10);
        ctx.restore();
      }
    }

    drawWheel();

    let spinning = false;

    function spin() {
      if (spinning) return;
      spinning = true;
      const spinAngle = Math.random() * 3000 + 3000;
      const duration = 4000;
      const start = performance.now();

      function animate(t) {
        const elapsed = t - start;
        const progress = Math.min(elapsed / duration, 1);
        const ease = 1 - Math.pow(1 - progress, 3);
        const angle = (spinAngle * ease) % 360;
        canvas.style.transform = `rotate(${angle}deg)`;

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          const index = Math.floor(slices - (angle / 360 * slices)) % slices;
          const topic = topics[index];
          const q = topic.questions[Math.floor(Math.random() * topic.questions.length)];
          document.getElementById("result").innerHTML = `<strong>${topic.name}</strong><br>â€œ${q}â€`;
          spinning = false;
        }
      }

      requestAnimationFrame(animate);
    }
  </script>
</body>
</html>
